<%= render partial: 'cms_sidebar_members', locals: { status: @status } %>

<div class="members row">
  <div class="pod col-12 rounded shadow-sm">
    <table class="members__table table">
      <thead>
        <tr>
          <th scope="col">Email</th>
          <th scope="col">Status</th>
          <th scope="col"></th>
        </tr>
      </thead>

      <tbody>
        <% @members.each do |member| %>
          <tr class="members__table-row">
            <td><%= member.email %></td>
            <td class="text-capitalize"><%= member.status %></td>
            <td class="btn-group btn-group-sm" role="group">
              <%= link_to(
                'Edit',
                edit_member_path(member),
                remote: true,
                class: 'btn btn-secondary',
                data: { toggle: 'modal', target: '#memberEditModal' }
              )%>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>

<div class="d-flex justify-content-center">
  <%== pagy_bootstrap_nav(@pagy) %>
</div>

<!-- Modal -->
<div
  class="modal fade" id="memberEditModal"
  data-backdrop="static" data-keyboard="false"
  tabindex="-1"
  aria-labelledby="memberEditModalLabel" aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="memberEditModalLabel">Edit Member Details</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div id="memberEditModalBody" class="modal-body">
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary mr-auto" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
